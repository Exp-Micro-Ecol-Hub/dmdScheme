<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Howto Create a new scheme • dmdScheme</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Howto Create a new scheme">
<meta property="og:description" content="dmdScheme">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dmdScheme</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Howto_create_new_scheme.html">Howto Create a new scheme</a>
    </li>
    <li>
      <a href="../articles/minimum_requirements_dmdscheme.html">Minimum requirements for MetaData scheme based on dmdScheme</a>
    </li>
    <li>
      <a href="../articles/r_package_introduction.html">R Package Introduction</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rkrug/dmdScheme/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Howto_create_new_scheme_files/header-attrs-2.1/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Howto Create a new scheme</h1>
            <h3 class="subtitle">dmdScheme_0.9.5</h3>
                        <h4 class="author">Rainer M Krug <a href="mailto:Rainer.Krug@uzh.ch" class="email">Rainer.Krug@uzh.ch</a>
</h4>
            
            <h4 class="date">2020-04-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/rkrug/dmdScheme/blob/master/vignettes/Howto_create_new_scheme.Rmd"><code>vignettes/Howto_create_new_scheme.Rmd</code></a></small>
      <div class="hidden name"><code>Howto_create_new_scheme.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>This package contains all the functionality to easily create a new metadata scheme. The resulting scheme package will contain all files needed so that it can be easily be distributed and used, and can be either be distributed directly or uploaded to an online repository, e.g. the default <a href="https://github.com/Exp-Micro-Ecol-Hub/dmdSchemeRepository">dmdScheme repository</a>.</p>
</div>
<div id="create-new-scheme" class="section level1">
<h1 class="hasAnchor">
<a href="#create-new-scheme" class="anchor"></a>Create new scheme</h1>
<p>To create your own scheme package entails a few simple steps.</p>
<ol style="list-style-type: decimal">
<li>Open an existing scheme definition you want to use as a starting point. The easies is to use the command</li>
</ol>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="../reference/open_new_spreadsheet.html">open_new_spreadsheet</a></span>(<span class="kw">keepData</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p>which will open the current scheme including example data in your spreadsheet program of choice.</p>
<p><strong>If the <code>.xlsx</code> file is locked, you can unlock it by using the password <code>test</code>.</strong></p>
<p>You can also manually extract the <code>.xlsx</code> file from any scheme package and use it.</p>
<p>It is important, that the final scheme contains example data as the resulting scheme package has to contain example data.</p>
<ol start="2" style="list-style-type: decimal">
<li>Edit the new scheme definition</li>
</ol>
<p>This <code>.xlsx</code> file can be edited following the limitations as specified in the <strong>Minimum requirements for metadatascheme based on dmdScheme</strong>. After modifications have been done and the spreadsheet has been saved, the scheme package can be created by using</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="../reference/scheme_make.html">scheme_make</a></span>( <span class="st">"TheFile.xlsx"</span> )</pre></body></html></div>
<p>which will create a file named <code>NAME_VERSION.tar.gz</code> in the directory <code>path</code> based on the scheme definition in <code>TheFile.xlsx</code>. <code>NAME</code> and <code>VERSION</code> are the scheme name and scheme version as specified in the cell <code>(H:1)</code> in sheet <code>Experiment</code>.</p>
<p>The following two commands will install the new scheme and use it:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="../reference/scheme.html">scheme_install</a></span>(<span class="kw">file</span> <span class="kw">=</span> <span class="st">"NAME_VERSION.tar.gz"</span>)
<span class="fu"><a href="../reference/scheme.html">scheme_use</a></span>(<span class="st">"NAME"</span>, <span class="st">"VERSION"</span>)</pre></body></html></div>
<p>To upload the scheme to the main repository on <a href="https://github.com/Exp-Micro-Ecol-Hub/dmdSchemeRepository">github</a>, please either clone the repo and send a pull request or file an issue with the scheme package as an attachment.</p>
</div>
<div id="create-r-package-to-extending-the-functionality-of-the-dmdscheme-package" class="section level1">
<h1 class="hasAnchor">
<a href="#create-r-package-to-extending-the-functionality-of-the-dmdscheme-package" class="anchor"></a>Create R package to Extending the functionality of the <code>dmdScheme</code> package</h1>
<p>The package <code>dmdScheme</code> package is only providing the base functionality for working with dmdSchemes. In many cases, the functionality needs to be extended to be able to work with other schemes. This can be done by creating a new package which is</p>
<ol style="list-style-type: decimal">
<li>depends on the package <code>dmdScheme</code>, and</li>
<li>automatically downloads, installs and activates a specific scheme definition and not the default dmdScheme.</li>
</ol>
<p>Similar to the function <code><a href="https://rdrr.io/r/utils/package.skeleton.html">package.skeleton()</a></code> in the <code>utils</code> package, <code>dmdScheme</code> provides a function which creates a package skeleton with the required functionality.</p>
<p>To for example create a package in the folder <code>path = tempdir()</code> which depends on the R package <code>dmdScheme</code> and loads and activates upon loading the scheme <code>emeScheme</code> of version <code>0.9.5</code> which is in the default repository:</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="kw">if</span> (!<span class="fu"><a href="../reference/scheme.html">scheme_installed</a></span>(<span class="st">"emeScheme"</span>, <span class="st">"0.9.5"</span>)) {
  <span class="fu"><a href="../reference/scheme.html">scheme_install</a></span>(<span class="st">"emeScheme"</span>, <span class="st">"0.9.5"</span>)
}</pre></body></html></div>
<pre><code>## Scheme definition `/var/folders/50/wcr5bjwn75q595n6x82gxj280000gq/T//Rtmpe2XGt6/file55404119e7b7/emeScheme_0.9.5.tar.gz, installed with
## name:    emeScheme
## version: 0.9.5</code></pre>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="../reference/scheme.html">scheme_use</a></span>(<span class="st">"emeScheme"</span>, <span class="st">"0.9.5"</span>)</pre></body></html></div>
<pre><code>## Theme switched to emeScheme_0.9.5</code></pre>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="fu"><a href="../reference/make_new_package.html">make_new_package</a></span>( <span class="kw">path</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span>() )</pre></body></html></div>
<pre><code>## Creating directories ...</code></pre>
<pre><code>## Creating DESCRIPTION ...</code></pre>
<pre><code>## Creating NAMESPACE ...</code></pre>
<pre><code>## Creating Read-and-delete-me ...</code></pre>
<pre><code>## Copying code files ...</code></pre>
<pre><code>## Making help files ...</code></pre>
<pre><code>## Done.</code></pre>
<pre><code>## Further steps are described in '/var/folders/50/wcr5bjwn75q595n6x82gxj280000gq/T//Rtmpe2XGt6/emeScheme/Read-and-delete-me'.</code></pre>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="fu"><a href="../reference/scheme.html">scheme_use</a></span>(<span class="st">"dmdScheme"</span>, <span class="st">"0.9.5"</span>)</pre></body></html></div>
<pre><code>## Theme switched to dmdScheme_0.9.5</code></pre>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="fu"><a href="../reference/scheme.html">scheme_uninstall</a></span>(<span class="st">"emeScheme"</span>, <span class="st">"0.9.5"</span>)</pre></body></html></div>
<pre><code>## Scheme emeScheme_0.9.5 deleted and moved to</code></pre>
<pre><code>## [1] "/var/folders/50/wcr5bjwn75q595n6x82gxj280000gq/T//Rtmpe2XGt6/file5540bbbc0c5"</code></pre>
<p><strong>NOTE: If the scheme package is not in the default repository, the file <code>inst/aaa.R</code> in the new package needs to be adapted to automatically anstall and use the scheme!</strong></p>
<p>For an example of an R package of this kind see the R folder in the <a href="https://github.com/Exp-Micro-Ecol-Hub/emeScheme">emeScheme package on github</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Rainer M. Krug.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
