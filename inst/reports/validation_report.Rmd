---
params:
  author: unknown
  title: Validation
  x: NULL
  result: NULL
title: "`r params$title`"
author: "`r params$author`"
date: "`r Sys.Date()`"
output:
  html_document: default
  pdf_document: default
  word_document: default
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
x <- params$x
result <- params$result

## only for debugging ##
if (is.null(x)) {
  if (!require("emeScheme")) {
    devtools::load_all()
  }
  x <- emeScheme::emeScheme_raw
  result <- validate(x = emeScheme_raw, validateData = TRUE, report = "none")
}
## ##
```

* **Author**: `r params$author`
* **emeScheme metadata name**: `r attr(x, "fileName")`
* **data package path**: `add this`

# Overall validation outcome

Here there will be a report on the overall validation outcome, e.g., your metadata-data combination passed x/y critical tests, and passed z/n desirable tests. Please see below for details of each test result.


Put this in an appendix.
```{r info}
attributes(x)
```

Use conditional text to explicitly say pass or fail, so that users don't have to read the R output (or at least get lovely green text for pass, and red for fail!)

# Validate General Structure
```{r val_struct, options}
result$structOK
```


# Validate Experiment
```{r val_Experiment}
result$Experiment
```
# Validate Species
```{r val_species, options}
result$Species
```

# Validate Treatment
```{r val_treatment, options}
result$Treatment
```

# Validate Measurement
```{r val_measurement, options}
result$Measurement
```

# Validate DataExtraction
```{r val_dataextraction, options}
result$DataExtraction
```

# Validate DataFileMetaData
```{r val_datafilemetadata, options}
result$DataFileMetaData
```

## Validate mappingColumn

## Validation out of attempt to parse date variables

# To do

